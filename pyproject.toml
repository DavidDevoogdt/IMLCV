

[tool.ruff]

extend-include = ["*.ipynb"]
line-length = 120

#lint.select = ["ALL"]
#lint.ignore = ["E741","ERA001"]
lint.extend-select = ["I"]


[tool.pyright]
include = [
    "src",
    "tests"
]
typeCheckingMode = "basic"


[tool.pdm]
distribution = true
package-dir = "src"

[project]
name = "IMLCV"
version = "0.1.0"
description = "Add a short description here!"
authors = [
    {name = "David Devoogdt", email = "david.devoogdt@ugent.be"},
    {name = "David Devoogdt", email = "david.devoogdt@gmail.com"},
]
dependencies = [ "cloudpickle", "filelock", "importlib-metadata", "ase>=3.25.0,<4", "distrax>=0.1.5,<0.2", "dm-haiku>=0.0.14,<0.0.15", "flax>=0.10.7,<0.11", "h5py>=3.14.0,<4", "hsluv>=5.0.4,<6", "jax>=0.7.0,<0.8", "jaxlib>=0.7.0,<0.8", "jaxopt>=0.8.5,<0.9", "jsonpickle>=4.1.1,<5", "mace-torch>=0.3.13,<0.4", "matplotlib>=3.10.3,<4", "optax>=0.2.5,<0.3", "ott-jax>=0.5.1,<0.6", "parsl>=2025.7.28,<2026", "umap-learn>=0.5.9.post2,<0.6", "work-queue>=0.0.1,<0.0.2", "openmm>=8.3.1,<9", "ty>=0.0.1a16,<0.0.1a17", "pymanopt>=2.2.1,<3",
]

readme = "README.md"
license = {text = "MIT"}
classifiers = [
    "Development Status :: 4 - Beta",
    "License :: OSI Approved :: MIT License",
    "Programming Language :: Python",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3 :: Only",
]

[project.urls]
Homepage = "https://github.com/DavidDevoogdt/IMLCV"
Documentation = "https://imlcv.readthedocs.io/en/main/?badge=main"
Source = "https://github.com/DavidDevoogdt/IMLCV"
Changelog = "https://github.com/DavidDevoogdt/IMLCV/latest/changelog.html"

[project.optional-dependencies]
docs = [
    "myst-parser",
    "nbsphinx",
    "nbsphinx-link",
    "pandoc",
    "sphinx",
    "sphinx-autoapi",
    "sphinx-autodoc-typehints",
    "sphinx-book-theme",
    "sphinx-design",
]

lint = [
    "ruff",
]
test = [
    "pytest",
    "pytest-cov",
    "setuptools",
]


[tool.pytest.ini_options]
addopts = [
    "--import-mode=importlib",
]

testpaths = [
    "tests",
]

[tool.pixi.workspace]
channels = ["conda-forge"]
platforms = ["linux-64"]

[tool.pixi.pypi-dependencies]
IMLCV = { path = ".", editable = true }

[tool.pixi.environments]
default = { solve-group = "default" }
docs = { features = ["docs"], solve-group = "default" }

lint = { features = ["lint"], solve-group = "default" }
test = { features = ["test"], solve-group = "default" }

[tool.pixi.tasks]

[tool.pixi.dependencies]
python = "3.12.*"
ruff = ">=0.12.5,<0.13"
jupyter = ">=1.1.1,<2"
pre-commit = ">=4.2.0,<5"
ndcctools = ">=7.15.10,<8"
pytest = ">=8.4.1,<9"
